<!DOCTYPE html>
<html>
<head>
<title>My Dream - Flipkart Style Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f1f3f6}
header{background:#2874f0;color:white;padding:15px;text-align:center;font-size:22px}
.container{padding:15px}
input,button{padding:10px;margin:5px 0;width:100%}
button{background:#fb641b;color:white;border:none;cursor:pointer}
.card{background:white;padding:10px;margin:10px 0;border-radius:8px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
img{width:100%;height:150px;object-fit:cover;border-radius:5px}
.hidden{display:none}
#recaptcha-container{margin-top:10px}
</style>
</head>

<body>

<header>My Dream - Online Store</header>

<div class="container">

<h3>User Registration</h3>
<input type="text" id="name" placeholder="Full Name">
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button onclick="registerEmail()">Register with Email</button>

<hr>

<h3>Login with Mobile OTP</h3>
<input type="text" id="phone" placeholder="+91XXXXXXXXXX">
<div id="recaptcha-container"></div>
<button onclick="sendOTP()">Send OTP</button>

<input type="text" id="otp" placeholder="Enter OTP">
<button onclick="verifyOTP()">Verify OTP</button>

<hr>

<button onclick="logout()">Logout</button>

<h3>Products</h3>
<div class="grid" id="products"></div>

</div>

<script>

// ðŸ”¥ PASTE YOUR REAL FIREBASE CONFIG HERE
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_STORAGE_BUCKET",
  messagingSenderId: "YOUR_MSG_ID",
  appId: "YOUR_APP_ID"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Email Register
function registerEmail(){
let email=email.value;
let pass=password.value;

auth.createUserWithEmailAndPassword(email,pass)
.then(()=>alert("Registered Successfully"))
.catch(e=>alert(e.message));
}

// Phone OTP
window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');

function sendOTP(){
let phone=document.getElementById("phone").value;
auth.signInWithPhoneNumber(phone,window.recaptchaVerifier)
.then(function(confirmationResult){
window.confirmationResult=confirmationResult;
alert("OTP Sent");
}).catch(e=>alert(e.message));
}

function verifyOTP(){
let code=document.getElementById("otp").value;
confirmationResult.confirm(code)
.then(()=>alert("Login Successful"))
.catch(()=>alert("Invalid OTP"));
}

function logout(){
auth.signOut();
alert("Logged Out");
}

// Demo Products
let demoProducts=[
{name:"iPhone 13",price:"45000",img:"https://via.placeholder.com/150"},
{name:"Samsung TV",price:"30000",img:"https://via.placeholder.com/150"},
{name:"Bike",price:"55000",img:"https://via.placeholder.com/150"},
{name:"Sofa Set",price:"15000",img:"https://via.placeholder.com/150"}
];

function loadProducts(){
let html="";
demoProducts.forEach(p=>{
html+=`
<div class="card">
<img src="${p.img}">
<h4>${p.name}</h4>
<p>â‚¹ ${p.price}</p>
<button>Add to Cart</button>
</div>`;
});
document.getElementById("products").innerHTML=html;
}

loadProducts();

</script>

</body>
</html>